<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T4BF // Bonus Features Guide</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>

<!-- ====== NAV ====== -->
<nav class="nav">
  <span class="nav-brand">T4BF // BONUS FEATURES</span>
  <button class="hamburger" aria-label="Toggle menu">[=]</button>
  <ul class="nav-links">
    <li><a href="#overview">Overview</a></li>
    <li><a href="#feature-a">Startup</a></li>
    <li><a href="#feature-b">Colors</a></li>
    <li><a href="#feature-c">History</a></li>
    <li><a href="#feature-d">Clear</a></li>
    <li><a href="#feature-e">Alias</a></li>
    <li><a href="#feature-f">Custom</a></li>
    <li><a href="#ansi-ref">ANSI Ref</a></li>
    <li><a href="#" id="docs-toggle">Docs</a></li>
  </ul>
</nav>

<!-- ====== HERO ====== -->
<main>
<section class="hero" id="top">
  <div class="hero-ascii" aria-hidden="true">
 _______  _  _     ____    ______
|__   __|| || |   |  _ \  |  ____|
   | |   | || |_  | |_) | | |__
   | |   |__   _| |  _ &lt;  |  __|
   | |      | |   | |_) | | |
   |_|      |_|   |____/  |_|
  </div>
  <p class="hero-tagline" data-text="Bonus feature implementation guide for MPX bare-metal OS">Bonus feature implementation guide for MPX bare-metal OS</p>
  <p class="hero-meta">5 pts each &middot; max 20 pts for first 4 &middot; CS450 Spring 2026</p>
</section>

<!-- ====== OVERVIEW ====== -->
<section id="overview">
  <p class="section-title">$ cat overview.txt</p>
  <h2>Feature Overview</h2>

  <div class="feature-grid">
    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">A</span>
        <div>
          <div class="feature-card-name">Unique Startup</div>
          <span class="pill pill-easy">Easy</span>
        </div>
      </div>
      <p class="feature-card-desc">Display custom ASCII art when MPX boots up.</p>
    </div>

    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">B</span>
        <div>
          <div class="feature-card-name">Variable Text Color</div>
          <span class="pill pill-medium">Easy-Med</span>
        </div>
      </div>
      <p class="feature-card-desc">Add ANSI color output to commands and prompts.</p>
    </div>

    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">C</span>
        <div>
          <div class="feature-card-name">Command History</div>
          <span class="pill pill-easy">Easy</span>
        </div>
      </div>
      <p class="feature-card-desc">Arrow-key history recall. Already ~90% done!</p>
    </div>

    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">D</span>
        <div>
          <div class="feature-card-name">Clear Command</div>
          <span class="pill pill-easy">Easiest</span>
        </div>
      </div>
      <p class="feature-card-desc">Clear the terminal with a single ANSI sequence.</p>
    </div>

    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">E</span>
        <div>
          <div class="feature-card-name">Alias Command</div>
          <span class="pill pill-hard">Med-Hard</span>
        </div>
      </div>
      <p class="feature-card-desc">Map shorthand names to existing commands.</p>
    </div>

    <div class="feature-card">
      <div class="feature-card-header">
        <span class="badge">F</span>
        <div>
          <div class="feature-card-name">Other Approved</div>
          <span class="pill pill-medium">Varies</span>
        </div>
      </div>
      <p class="feature-card-desc">Tab completion, command timing, custom prompt, etc.</p>
    </div>
  </div>

  <h3>Key Files</h3>
  <table class="key-files-table">
    <thead>
      <tr>
        <th>Feature</th>
        <th>Files Touched</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="badge" style="width:1.5rem;height:1.5rem;font-size:0.7rem">A</span> Startup</td>
        <td><code>user/comhand.c</code></td>
      </tr>
      <tr>
        <td><span class="badge" style="width:1.5rem;height:1.5rem;font-size:0.7rem">B</span> Colors</td>
        <td><code>user/cmd_helpers.c</code></td>
      </tr>
      <tr>
        <td><span class="badge" style="width:1.5rem;height:1.5rem;font-size:0.7rem">C</span> History</td>
        <td><code>kernel/kmain.c</code>, <code>kernel/serial.c</code></td>
      </tr>
      <tr>
        <td><span class="badge" style="width:1.5rem;height:1.5rem;font-size:0.7rem">D</span> Clear</td>
        <td><code>user/cmd_clear.c</code> <em>(new)</em>, <code>include/cmd_clear.h</code> <em>(new)</em>, <code>user/comhand.c</code>, <code>make/user.mk</code></td>
      </tr>
      <tr>
        <td><span class="badge" style="width:1.5rem;height:1.5rem;font-size:0.7rem">E</span> Alias</td>
        <td><code>user/cmd_alias.c</code> <em>(new)</em>, <code>include/cmd_alias.h</code> <em>(new)</em>, <code>user/comhand.c</code>, <code>make/user.mk</code></td>
      </tr>
    </tbody>
  </table>
</section>

<!-- ====== FEATURE A: UNIQUE STARTUP ====== -->
<section id="feature-a">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">A</span>
    <h2>Unique Startup Message</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-easy">Easy</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Display custom ASCII art or a welcome banner when MPX starts. This is the simplest bonus feature &mdash; just add <code>print()</code> calls at the top of the command handler loop.</p>
  </div>

  <div class="subsection">
    <h3>Files to Modify</h3>
    <ul class="file-list">
      <li><span class="file-path">user/comhand.c</span> &mdash; Add print statements at line 36, before the main loop</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Implementation</h3>
    <ol class="steps">
      <li>Open <code>user/comhand.c</code></li>
      <li>Find the <code>comhand()</code> function (line 29)</li>
      <li>Replace the generic welcome message at lines 36-38 with your ASCII art</li>
    </ol>

    <div class="code-block">
      <div class="code-block-header">
        <span>user/comhand.c — lines 29-42</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="kw">void</span> <span class="fn">comhand</span>(<span class="kw">void</span>)
{
    <span class="type">char</span> buffer[BUF_SIZE];
    <span class="type">char</span> *cmd;
    <span class="type">char</span> *arg;
    <span class="type">int</span> running = <span class="num">1</span>;

    <span class="cmt">// === YOUR ASCII ART HERE ===</span>
    <span class="fn">print</span>(<span class="str">"\r\n"</span>);
    <span class="fn">print</span>(<span class="str">"  _______  _  _     ____    ______ \r\n"</span>);
    <span class="fn">print</span>(<span class="str">" |__   __|| || |   |  _ \\  |  ____|\r\n"</span>);
    <span class="fn">print</span>(<span class="str">"    | |   | || |_  | |_) | | |__   \r\n"</span>);
    <span class="fn">print</span>(<span class="str">"    | |   |__   _| |  _ &lt;  |  __|  \r\n"</span>);
    <span class="fn">print</span>(<span class="str">"    | |      | |   | |_) | | |     \r\n"</span>);
    <span class="fn">print</span>(<span class="str">"    |_|      |_|   |____/  |_|     \r\n"</span>);
    <span class="fn">print</span>(<span class="str">"\r\n"</span>);
    <span class="fn">print</span>(<span class="str">"Type 'help' for a list of commands.\r\n\r\n"</span>);

    <span class="kw">while</span> (running)
    {</pre>
    </div>
  </div>

  <div class="tip">
    <div class="tip-label">TIP</div>
    <p>Keep ASCII art under 80 columns wide so it doesn't wrap in the terminal. Remember to use <code>\r\n</code> for line endings (not just <code>\n</code>) since this is a serial console. Combine with Feature B for colored ASCII art!</p>
  </div>
</div>
</section>

<!-- ====== FEATURE B: VARIABLE TEXT COLOR ====== -->
<section id="feature-b">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">B</span>
    <h2>Variable Text Color</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-medium">Easy-Med</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Add ANSI escape code color output to your commands, prompts, and error messages. This works because <code>print()</code> calls <code>sys_req(WRITE, COM1, ...)</code>, which passes raw bytes through the serial port &mdash; and your terminal emulator interprets ANSI sequences automatically.</p>
  </div>

  <div class="subsection">
    <h3>Files to Modify</h3>
    <ul class="file-list">
      <li><span class="file-path">user/cmd_helpers.c</span> &mdash; Add color helper functions</li>
      <li><span class="file-path">include/cmd_helpers.h</span> &mdash; Declare the new prototypes</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>How ANSI Colors Work</h3>
    <p>ANSI escape sequences start with <code>\033[</code> (ESC + <code>[</code>) followed by a numeric code and the letter <code>m</code>. Wrap your text between a color code and the reset code <code>\033[0m</code>.</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>Pattern</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="fn">print</span>(<span class="str">"\033[32mThis text is green!\033[0m\r\n"</span>);
<span class="cmt">//     ^^^^^                  ^^^^^^</span>
<span class="cmt">//     set green              reset to default</span></pre>
    </div>
  </div>

  <div class="subsection">
    <h3>Implementation</h3>
    <ol class="steps">
      <li>Add color helper functions to <code>user/cmd_helpers.c</code></li>
      <li>Declare prototypes in <code>include/cmd_helpers.h</code></li>
      <li>Use them anywhere you call <code>print()</code></li>
    </ol>

    <div class="code-block">
      <div class="code-block-header">
        <span>user/cmd_helpers.c — color helpers</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Color helper: print colored text then reset</span>
<span class="kw">void</span> <span class="fn">print_color</span>(<span class="kw">const</span> <span class="type">char</span> *color_code, <span class="kw">const</span> <span class="type">char</span> *text)
{
    <span class="fn">print</span>(color_code);
    <span class="fn">print</span>(text);
    <span class="fn">print</span>(<span class="str">"\033[0m"</span>);  <span class="cmt">// reset</span>
}

<span class="cmt">// Convenience wrappers</span>
<span class="kw">void</span> <span class="fn">print_green</span>(<span class="kw">const</span> <span class="type">char</span> *text)  { <span class="fn">print_color</span>(<span class="str">"\033[32m"</span>, text); }
<span class="kw">void</span> <span class="fn">print_red</span>(<span class="kw">const</span> <span class="type">char</span> *text)    { <span class="fn">print_color</span>(<span class="str">"\033[31m"</span>, text); }
<span class="kw">void</span> <span class="fn">print_yellow</span>(<span class="kw">const</span> <span class="type">char</span> *text) { <span class="fn">print_color</span>(<span class="str">"\033[33m"</span>, text); }
<span class="kw">void</span> <span class="fn">print_cyan</span>(<span class="kw">const</span> <span class="type">char</span> *text)   { <span class="fn">print_color</span>(<span class="str">"\033[36m"</span>, text); }
<span class="kw">void</span> <span class="fn">print_bold</span>(<span class="kw">const</span> <span class="type">char</span> *text)   { <span class="fn">print_color</span>(<span class="str">"\033[1m"</span>, text); }</pre>
    </div>

    <div class="code-block">
      <div class="code-block-header">
        <span>Usage example in comhand.c</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Colored prompt</span>
<span class="fn">print_green</span>(<span class="str">"mpx"</span>);
<span class="fn">print</span>(<span class="str">"> "</span>);

<span class="cmt">// Colored error</span>
<span class="fn">print_red</span>(<span class="str">"Error: "</span>);
<span class="fn">print</span>(<span class="str">"Unknown command\r\n"</span>);</pre>
    </div>
  </div>

  <div class="tip">
    <div class="tip-label">TIP</div>
    <p>Always reset with <code>\033[0m</code> after colored text, or all subsequent output will stay colored. You can combine codes: <code>\033[1;32m</code> = bold green.</p>
  </div>
</div>
</section>

<!-- ====== FEATURE C: COMMAND HISTORY ====== -->
<section id="feature-c">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">C</span>
    <h2>Command History</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-easy">Easy</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Scroll through previously entered commands with the up/down arrow keys. <strong>This is already ~90% implemented!</strong> The data structures and arrow-key handling exist in <code>kernel/serial.c</code>. You just need two small fixes.</p>
  </div>

  <div class="subsection">
    <h3>What Already Exists</h3>
    <ul class="file-list">
      <li><span class="file-path">include/mpx/serial.h:13-24</span> &mdash; <code>cmd_node_t</code> and <code>cmd_history_t</code> structs (linked list of commands, capacity 16)</li>
      <li><span class="file-path">kernel/serial.c:107-118</span> &mdash; <code>init_history()</code> function</li>
      <li><span class="file-path">kernel/serial.c:125-161</span> &mdash; <code>add_command()</code> function (called on Enter key)</li>
      <li><span class="file-path">kernel/serial.c:211-258</span> &mdash; Up/down arrow handling (copies history command into input buffer)</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Existing Data Structures</h3>
    <div class="code-block">
      <div class="code-block-header">
        <span>include/mpx/serial.h — lines 13-24</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="kw">typedef struct</span> <span class="type">cmd_node</span> {
    <span class="type">char</span> command[MAX_CMD_LENGTH];
    <span class="kw">struct</span> <span class="type">cmd_node</span> *next;
    <span class="kw">struct</span> <span class="type">cmd_node</span> *prev;
} <span class="type">cmd_node_t</span>;

<span class="kw">typedef struct</span> <span class="type">cmd_history</span> {
    <span class="type">cmd_node_t</span> nodes[HISTORY_SIZE];
    <span class="type">cmd_node_t</span> *head;
    <span class="type">cmd_node_t</span> *tail;
    <span class="type">size_t</span> count;
} <span class="type">cmd_history_t</span>;</pre>
    </div>
  </div>

  <div class="subsection">
    <h3>Fix #1: Initialize History</h3>
    <p>The <code>init_history()</code> function exists but is <strong>never called</strong>. Add it to <code>kmain.c</code>.</p>

    <div class="code-block">
      <div class="code-block-header">
        <span>kernel/kmain.c — add at line 57 (the TODO comment)</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Current code at line 57:</span>
<span class="cmt">// TODO init command history</span>

<span class="cmt">// Replace with:</span>
<span class="kw">extern</span> <span class="type">cmd_history_t</span> history;
<span class="fn">init_history</span>(&amp;history);
<span class="fn">klogv</span>(COM1, <span class="str">"Initialized command history..."</span>);</pre>
    </div>

    <div class="gotcha">
      <div class="gotcha-label">GOTCHA</div>
      <p>The <code>history</code> variable is declared in <code>serial.c</code> (line 122), so you need the <code>extern</code> declaration to reference it from <code>kmain.c</code>.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Fix #2: Ghost Character Bug</h3>
    <p>When you scroll to a command that's <em>shorter</em> than the previous one, old characters remain on screen. The TODO at <code>serial.c:219</code> describes the fix: clear the entire line before redrawing.</p>

    <div class="code-block">
      <div class="code-block-header">
        <span>kernel/serial.c — replace lines 219-233 (up arrow handler)</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="kw">if</span> (cur_cmd) {
    <span class="cmt">// Fix ghost chars: move to start, overwrite with spaces, move back</span>
    <span class="fn">serial_out</span>(dev, <span class="str">"\r"</span>, <span class="num">1</span>);
    <span class="cmt">// Overwrite prompt + old input with spaces</span>
    <span class="kw">for</span> (<span class="type">size_t</span> j = <span class="num">0</span>; j &lt; data_length + <span class="num">2</span>; j++) {  <span class="cmt">// +2 for "> " prompt</span>
        <span class="fn">serial_out</span>(dev, <span class="str">" "</span>, <span class="num">1</span>);
    }
    <span class="fn">serial_out</span>(dev, <span class="str">"\r"</span>, <span class="num">1</span>);

    <span class="cmt">// Reprint prompt</span>
    <span class="fn">serial_out</span>(dev, <span class="str">"&gt; "</span>, <span class="num">2</span>);

    <span class="cmt">// Copy command into buffer</span>
    <span class="type">size_t</span> len = <span class="num">0</span>;
    <span class="kw">while</span> (len &lt; MAX_CMD_LENGTH - <span class="num">1</span> &amp;&amp; cur_cmd-&gt;command[len] != <span class="str">'\0'</span>) {
        buffer[len] = cur_cmd-&gt;command[len];
        len++;
    }
    buffer[len] = <span class="str">'\0'</span>;
    data_length = len;
    cur = data_length;

    <span class="cmt">// Print the command</span>
    <span class="fn">serial_out</span>(dev, buffer, data_length);
}</pre>
    </div>

    <div class="tip">
      <div class="tip-label">TIP</div>
      <p>Apply the same ghost-character fix to the <strong>down arrow handler</strong> (case 'B', around line 237). The pattern is identical: <code>\r</code>, overwrite with spaces, <code>\r</code>, reprint prompt, then print the new command.</p>
    </div>
  </div>
</div>
</section>

<!-- ====== FEATURE D: CLEAR COMMAND ====== -->
<section id="feature-d">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">D</span>
    <h2>Clear Command</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-easy">Easiest</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Clear the terminal screen. This is literally a two-line function that sends an ANSI escape sequence. The hard part is just wiring it into the build system.</p>
  </div>

  <div class="subsection">
    <h3>Files to Create/Modify</h3>
    <ul class="file-list">
      <li><span class="file-path">user/cmd_clear.c</span> <em>(new)</em> &mdash; The command implementation</li>
      <li><span class="file-path">include/cmd_clear.h</span> <em>(new)</em> &mdash; Header with prototype</li>
      <li><span class="file-path">user/comhand.c</span> &mdash; Add dispatch entry</li>
      <li><span class="file-path">make/user.mk</span> &mdash; Add .o target</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Implementation</h3>

    <h4>Step 1: Create the header</h4>
    <div class="code-block">
      <div class="code-block-header">
        <span>include/cmd_clear.h</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="prep">#ifndef CMD_CLEAR_H</span>
<span class="prep">#define CMD_CLEAR_H</span>

<span class="kw">void</span> <span class="fn">cmd_clear</span>(<span class="kw">void</span>);

<span class="prep">#endif</span></pre>
    </div>

    <h4>Step 2: Create the implementation</h4>
    <div class="code-block">
      <div class="code-block-header">
        <span>user/cmd_clear.c</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="prep">#include</span> <span class="str">&lt;cmd_clear.h&gt;</span>
<span class="prep">#include</span> <span class="str">&lt;sys_req.h&gt;</span>
<span class="prep">#include</span> <span class="str">&lt;mpx/device.h&gt;</span>

<span class="kw">void</span> <span class="fn">cmd_clear</span>(<span class="kw">void</span>)
{
    <span class="cmt">// \033[2J = clear entire screen</span>
    <span class="cmt">// \033[H  = move cursor to top-left (row 1, col 1)</span>
    <span class="fn">print</span>(<span class="str">"\033[2J\033[H"</span>);
}</pre>
    </div>

    <h4>Step 3: Add dispatch in comhand.c</h4>
    <p>Add before the <code>else</code> (unknown command) block at line 150:</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>user/comhand.c — add before the final else</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// ... after the last else-if ...</span>
<span class="kw">else if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"clear"</span>) == <span class="num">0</span>)
{
    <span class="fn">cmd_clear</span>();
}
<span class="kw">else</span>
{
    <span class="cmt">// unknown command</span>
    <span class="fn">print</span>(<span class="str">"Unknown command: "</span>);
    ...</pre>
    </div>

    <h4>Step 4: Update the Makefile</h4>
    <p>Add the dependency rule and object to <code>make/user.mk</code>:</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>make/user.mk — additions</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt"># Add dependency rule (anywhere before USER_OBJECTS)</span>
user/cmd_clear.o: user/cmd_clear.c include/cmd_clear.h \
  include/sys_req.h include/mpx/device.h

<span class="cmt"># Add to USER_OBJECTS list:</span>
USER_OBJECTS=\
	...
	user/cmd_clear.o\
	user/comhand.o\
	user/cmd_helpers.o</pre>
    </div>
  </div>

  <div class="tip">
    <div class="tip-label">TIP</div>
    <p>Don't forget to <code>#include &lt;cmd_clear.h&gt;</code> in <code>comhand.c</code> too! Also add <code>"clear"</code> to the help command output if you want it listed.</p>
  </div>
</div>
</section>

<!-- ====== FEATURE E: ALIAS COMMAND ====== -->
<section id="feature-e">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">E</span>
    <h2>Alias Command</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-hard">Med-Hard</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Let users create shorthand names for existing commands (e.g., <code>alias v version</code> makes <code>v</code> run <code>version</code>). Uses a static array &mdash; no dynamic memory needed.</p>
  </div>

  <div class="subsection">
    <h3>Files to Create/Modify</h3>
    <ul class="file-list">
      <li><span class="file-path">user/cmd_alias.c</span> <em>(new)</em> &mdash; Alias storage and lookup</li>
      <li><span class="file-path">include/cmd_alias.h</span> <em>(new)</em> &mdash; Header with prototypes</li>
      <li><span class="file-path">user/comhand.c</span> &mdash; Add alias resolution before dispatch + add alias/unalias commands</li>
      <li><span class="file-path">make/user.mk</span> &mdash; Add .o target</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Implementation</h3>

    <h4>Step 1: Create the header</h4>
    <div class="code-block">
      <div class="code-block-header">
        <span>include/cmd_alias.h</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="prep">#ifndef CMD_ALIAS_H</span>
<span class="prep">#define CMD_ALIAS_H</span>

<span class="prep">#define MAX_ALIASES 16</span>
<span class="prep">#define MAX_ALIAS_LEN 32</span>

<span class="kw">typedef struct</span> {
    <span class="type">char</span> alias[MAX_ALIAS_LEN];
    <span class="type">char</span> command[MAX_ALIAS_LEN];
} <span class="type">alias_entry_t</span>;

<span class="cmt">// Look up an alias. Returns the real command, or NULL if not found.</span>
<span class="kw">const</span> <span class="type">char</span> *<span class="fn">alias_lookup</span>(<span class="kw">const</span> <span class="type">char</span> *name);

<span class="cmt">// Add or update an alias. Returns 0 on success, -1 if table full.</span>
<span class="type">int</span> <span class="fn">alias_set</span>(<span class="kw">const</span> <span class="type">char</span> *name, <span class="kw">const</span> <span class="type">char</span> *command);

<span class="cmt">// Remove an alias. Returns 0 on success, -1 if not found.</span>
<span class="type">int</span> <span class="fn">alias_remove</span>(<span class="kw">const</span> <span class="type">char</span> *name);

<span class="cmt">// Print all aliases.</span>
<span class="kw">void</span> <span class="fn">alias_list</span>(<span class="kw">void</span>);

<span class="prep">#endif</span></pre>
    </div>

    <h4>Step 2: Create the implementation</h4>
    <div class="code-block">
      <div class="code-block-header">
        <span>user/cmd_alias.c</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="prep">#include</span> <span class="str">&lt;cmd_alias.h&gt;</span>
<span class="prep">#include</span> <span class="str">&lt;string.h&gt;</span>
<span class="prep">#include</span> <span class="str">&lt;sys_req.h&gt;</span>
<span class="prep">#include</span> <span class="str">&lt;mpx/device.h&gt;</span>

<span class="kw">static</span> <span class="type">alias_entry_t</span> aliases[MAX_ALIASES];
<span class="kw">static</span> <span class="type">int</span> alias_count = <span class="num">0</span>;

<span class="kw">const</span> <span class="type">char</span> *<span class="fn">alias_lookup</span>(<span class="kw">const</span> <span class="type">char</span> *name)
{
    <span class="kw">for</span> (<span class="type">int</span> i = <span class="num">0</span>; i &lt; alias_count; i++) {
        <span class="kw">if</span> (<span class="fn">strcmp</span>(aliases[i].alias, name) == <span class="num">0</span>)
            <span class="kw">return</span> aliases[i].command;
    }
    <span class="kw">return</span> <span class="num">NULL</span>;
}

<span class="type">int</span> <span class="fn">alias_set</span>(<span class="kw">const</span> <span class="type">char</span> *name, <span class="kw">const</span> <span class="type">char</span> *command)
{
    <span class="cmt">// Update existing alias</span>
    <span class="kw">for</span> (<span class="type">int</span> i = <span class="num">0</span>; i &lt; alias_count; i++) {
        <span class="kw">if</span> (<span class="fn">strcmp</span>(aliases[i].alias, name) == <span class="num">0</span>) {
            <span class="fn">strcpy</span>(aliases[i].command, command);
            <span class="kw">return</span> <span class="num">0</span>;
        }
    }
    <span class="cmt">// Add new alias</span>
    <span class="kw">if</span> (alias_count &gt;= MAX_ALIASES) <span class="kw">return</span> -<span class="num">1</span>;
    <span class="fn">strcpy</span>(aliases[alias_count].alias, name);
    <span class="fn">strcpy</span>(aliases[alias_count].command, command);
    alias_count++;
    <span class="kw">return</span> <span class="num">0</span>;
}

<span class="type">int</span> <span class="fn">alias_remove</span>(<span class="kw">const</span> <span class="type">char</span> *name)
{
    <span class="kw">for</span> (<span class="type">int</span> i = <span class="num">0</span>; i &lt; alias_count; i++) {
        <span class="kw">if</span> (<span class="fn">strcmp</span>(aliases[i].alias, name) == <span class="num">0</span>) {
            <span class="cmt">// Shift remaining entries down</span>
            aliases[i] = aliases[alias_count - <span class="num">1</span>];
            alias_count--;
            <span class="kw">return</span> <span class="num">0</span>;
        }
    }
    <span class="kw">return</span> -<span class="num">1</span>;
}</pre>
    </div>

    <h4>Step 3: Add alias resolution in comhand.c</h4>
    <p>Add <strong>before</strong> the <code>if/else</code> dispatch chain (after line 72), so aliases get resolved transparently:</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>user/comhand.c — add after parsing, before dispatch</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Resolve alias (but don't alias "alias" or "unalias")</span>
<span class="kw">if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"alias"</span>) != <span class="num">0</span> &amp;&amp; <span class="fn">strcmp</span>(cmd, <span class="str">"unalias"</span>) != <span class="num">0</span>) {
    <span class="kw">const</span> <span class="type">char</span> *real = <span class="fn">alias_lookup</span>(cmd);
    <span class="kw">if</span> (real != <span class="num">NULL</span>) {
        cmd = (<span class="type">char</span> *)real;
    }
}

<span class="cmt">// figure out which command and run it</span>
<span class="kw">if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"version"</span>) == <span class="num">0</span>)
{
    ...</pre>
    </div>

    <h4>Step 4: Add alias/unalias commands to dispatch</h4>
    <div class="code-block">
      <div class="code-block-header">
        <span>user/comhand.c — add to the if/else chain</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="kw">else if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"alias"</span>) == <span class="num">0</span>)
{
    <span class="kw">if</span> (arg == <span class="num">NULL</span>) {
        <span class="fn">alias_list</span>();  <span class="cmt">// no args = show all aliases</span>
    } <span class="kw">else</span> {
        <span class="type">char</span> *name = <span class="fn">strtok</span>(arg, <span class="str">" \t"</span>);
        <span class="type">char</span> *target = <span class="fn">strtok</span>(<span class="num">NULL</span>, <span class="str">"\r\n"</span>);
        <span class="kw">if</span> (!name || !target) {
            <span class="fn">print</span>(<span class="str">"Usage: alias &lt;name&gt; &lt;command&gt;\r\n"</span>);
        } <span class="kw">else if</span> (<span class="fn">alias_set</span>(name, target) &lt; <span class="num">0</span>) {
            <span class="fn">print</span>(<span class="str">"Alias table full.\r\n"</span>);
        }
    }
}
<span class="kw">else if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"unalias"</span>) == <span class="num">0</span>)
{
    <span class="kw">if</span> (arg == <span class="num">NULL</span>) {
        <span class="fn">print</span>(<span class="str">"Usage: unalias &lt;name&gt;\r\n"</span>);
    } <span class="kw">else if</span> (<span class="fn">alias_remove</span>(arg) &lt; <span class="num">0</span>) {
        <span class="fn">print</span>(<span class="str">"Alias not found.\r\n"</span>);
    }
}</pre>
    </div>
  </div>

  <div class="gotcha">
    <div class="gotcha-label">GOTCHA</div>
    <p>Never allow aliasing <code>alias</code> or <code>unalias</code> themselves &mdash; it would make the commands unreachable! Aliases are stored in a static array, so they don't persist across reboots. That's expected behavior for MPX.</p>
  </div>
</div>
</section>

<!-- ====== FEATURE F: OTHER APPROVED ====== -->
<section id="feature-f">
<div class="feature-section">
  <div class="feature-header">
    <span class="badge">F</span>
    <h2>Other Approved Features</h2>
    <div class="pills">
      <span class="pill pill-pts">5 pts</span>
      <span class="pill pill-medium">Varies</span>
    </div>
  </div>

  <div class="subsection">
    <h3>Overview</h3>
    <p>Propose a custom feature to your instructor for approval. Here are some ideas with implementation sketches:</p>
  </div>

  <div class="subsection">
    <h4>Tab Completion</h4>
    <p>When the user presses Tab, search the command list for a prefix match and auto-complete.</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>Sketch — Tab handler in serial_poll()</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// In serial_poll(), add a case for Tab (0x09)</span>
<span class="kw">if</span> (byte == <span class="str">'\t'</span>) {
    <span class="cmt">// Array of all known commands</span>
    <span class="kw">static const</span> <span class="type">char</span> *cmds[] = {
        <span class="str">"help"</span>, <span class="str">"version"</span>, <span class="str">"shutdown"</span>, <span class="str">"getdate"</span>,
        <span class="str">"setdate"</span>, <span class="str">"gettime"</span>, <span class="str">"settime"</span>, <span class="str">"clear"</span>, <span class="num">NULL</span>
    };
    <span class="cmt">// Find first prefix match</span>
    <span class="kw">for</span> (<span class="type">int</span> i = <span class="num">0</span>; cmds[i]; i++) {
        <span class="kw">if</span> (<span class="fn">strncmp</span>(buffer, cmds[i], data_length) == <span class="num">0</span>) {
            <span class="cmt">// Autocomplete: append remaining chars</span>
            ...
            <span class="kw">break</span>;
        }
    }
    <span class="kw">continue</span>;
}</pre>
    </div>
  </div>

  <div class="subsection">
    <h4>Command Timing</h4>
    <p>Show how long each command takes using the RTC. Read the time before and after command execution.</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>Sketch — timing in comhand.c</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Before command dispatch:</span>
<span class="type">int</span> start_sec = <span class="fn">rtc_get_seconds</span>();

<span class="cmt">// ... dispatch command ...</span>

<span class="cmt">// After command returns:</span>
<span class="type">int</span> end_sec = <span class="fn">rtc_get_seconds</span>();
<span class="type">int</span> elapsed = end_sec - start_sec;
<span class="fn">print</span>(<span class="str">"[completed in "</span>);
<span class="cmt">// ... print elapsed ...</span>
<span class="fn">print</span>(<span class="str">" seconds]\r\n"</span>);</pre>
    </div>
  </div>

  <div class="subsection">
    <h4>Custom Prompt</h4>
    <p>Let users change the shell prompt from <code>&gt; </code> to something custom.</p>
    <div class="code-block">
      <div class="code-block-header">
        <span>Sketch — prompt customization</span>
        <button class="copy-btn">copy</button>
      </div>
<pre><span class="cmt">// Global prompt variable</span>
<span class="kw">static</span> <span class="type">char</span> prompt[<span class="num">32</span>] = <span class="str">"&gt; "</span>;

<span class="cmt">// In comhand() loop, replace print("&gt; ") with:</span>
<span class="fn">print</span>(prompt);

<span class="cmt">// Add "prompt" command:</span>
<span class="kw">else if</span> (<span class="fn">strcmp</span>(cmd, <span class="str">"prompt"</span>) == <span class="num">0</span>) {
    <span class="kw">if</span> (arg) <span class="fn">strcpy</span>(prompt, arg);
}</pre>
    </div>
  </div>

  <div class="tip">
    <div class="tip-label">TIP</div>
    <p>You only get points for 4 bonus features maximum (20 pts total). Pick the ones that interest you most or that complement each other.</p>
  </div>
</div>
</section>

<!-- ====== ANSI REFERENCE ====== -->
<section id="ansi-ref">
  <p class="section-title">$ man ansi-codes</p>
  <h2>ANSI Escape Code Quick Reference</h2>

  <p>All codes begin with <code>\033[</code> (ESC + <code>[</code>). In C strings: <code>"\033[CODEm"</code>.</p>

  <h3>Text Colors (Foreground)</h3>
  <table class="ansi-table">
    <thead>
      <tr><th>Code</th><th>Color</th><th>C String</th></tr>
    </thead>
    <tbody>
      <tr><td>30</td><td>Black</td><td><code>\033[30m</code></td></tr>
      <tr><td>31</td><td style="color:#ff3333">Red</td><td><code>\033[31m</code></td></tr>
      <tr><td>32</td><td style="color:#00ff41">Green</td><td><code>\033[32m</code></td></tr>
      <tr><td>33</td><td style="color:#ffb000">Yellow</td><td><code>\033[33m</code></td></tr>
      <tr><td>34</td><td style="color:#5588ff">Blue</td><td><code>\033[34m</code></td></tr>
      <tr><td>35</td><td style="color:#b388ff">Magenta</td><td><code>\033[35m</code></td></tr>
      <tr><td>36</td><td style="color:#00d4ff">Cyan</td><td><code>\033[36m</code></td></tr>
      <tr><td>37</td><td>White</td><td><code>\033[37m</code></td></tr>
    </tbody>
  </table>

  <h3>Background Colors</h3>
  <table class="ansi-table">
    <thead>
      <tr><th>Code</th><th>Color</th><th>C String</th></tr>
    </thead>
    <tbody>
      <tr><td>40</td><td>Black</td><td><code>\033[40m</code></td></tr>
      <tr><td>41</td><td>Red</td><td><code>\033[41m</code></td></tr>
      <tr><td>42</td><td>Green</td><td><code>\033[42m</code></td></tr>
      <tr><td>43</td><td>Yellow</td><td><code>\033[43m</code></td></tr>
      <tr><td>44</td><td>Blue</td><td><code>\033[44m</code></td></tr>
      <tr><td>45</td><td>Magenta</td><td><code>\033[45m</code></td></tr>
      <tr><td>46</td><td>Cyan</td><td><code>\033[46m</code></td></tr>
      <tr><td>47</td><td>White</td><td><code>\033[47m</code></td></tr>
    </tbody>
  </table>

  <h3>Text Styles</h3>
  <table class="ansi-table">
    <thead>
      <tr><th>Code</th><th>Effect</th><th>C String</th></tr>
    </thead>
    <tbody>
      <tr><td>0</td><td>Reset all</td><td><code>\033[0m</code></td></tr>
      <tr><td>1</td><td>Bold / Bright</td><td><code>\033[1m</code></td></tr>
      <tr><td>4</td><td>Underline</td><td><code>\033[4m</code></td></tr>
      <tr><td>7</td><td>Reverse video</td><td><code>\033[7m</code></td></tr>
    </tbody>
  </table>

  <h3>Cursor Movement</h3>
  <table class="ansi-table">
    <thead>
      <tr><th>Sequence</th><th>Effect</th><th>C String</th></tr>
    </thead>
    <tbody>
      <tr><td>ESC[nA</td><td>Move cursor up n lines</td><td><code>\033[nA</code></td></tr>
      <tr><td>ESC[nB</td><td>Move cursor down n lines</td><td><code>\033[nB</code></td></tr>
      <tr><td>ESC[nC</td><td>Move cursor right n columns</td><td><code>\033[nC</code></td></tr>
      <tr><td>ESC[nD</td><td>Move cursor left n columns</td><td><code>\033[nD</code></td></tr>
      <tr><td>ESC[H</td><td>Move cursor to top-left</td><td><code>\033[H</code></td></tr>
      <tr><td>ESC[r;cH</td><td>Move cursor to row r, col c</td><td><code>\033[r;cH</code></td></tr>
    </tbody>
  </table>

  <h3>Screen Control</h3>
  <table class="ansi-table">
    <thead>
      <tr><th>Sequence</th><th>Effect</th><th>C String</th></tr>
    </thead>
    <tbody>
      <tr><td>ESC[2J</td><td>Clear entire screen</td><td><code>\033[2J</code></td></tr>
      <tr><td>ESC[K</td><td>Clear from cursor to end of line</td><td><code>\033[K</code></td></tr>
      <tr><td>ESC[1K</td><td>Clear from start of line to cursor</td><td><code>\033[1K</code></td></tr>
      <tr><td>ESC[2K</td><td>Clear entire line</td><td><code>\033[2K</code></td></tr>
    </tbody>
  </table>

  <h3>Combining Codes</h3>
  <p>Separate multiple codes with semicolons:</p>
  <div class="code-block">
    <div class="code-block-header">
      <span>Examples</span>
      <button class="copy-btn">copy</button>
    </div>
<pre><span class="fn">print</span>(<span class="str">"\033[1;32mBold Green\033[0m\r\n"</span>);      <span class="cmt">// bold + green</span>
<span class="fn">print</span>(<span class="str">"\033[31;43mRed on Yellow\033[0m\r\n"</span>);   <span class="cmt">// red text, yellow bg</span>
<span class="fn">print</span>(<span class="str">"\033[1;4;36mBold Underline Cyan\033[0m\r\n"</span>); <span class="cmt">// bold + underline + cyan</span></pre>
  </div>
</section>

<!-- ====== FOOTER ====== -->
<footer class="footer">
  T4BF // WVU CS450 // Spring 2026
</footer>
</main>

<!-- ====== DOCS OVERLAY ====== -->
<div id="docs-overlay" class="docs-overlay hidden">
  <div class="docs-header">
    <button class="docs-close">[x]</button>
    <div class="docs-tabs">
      <button class="docs-tab active" data-panel="docs-users">User's Manual</button>
      <button class="docs-tab" data-panel="docs-programmers">Programmer's Manual</button>
      <button class="docs-tab" data-panel="docs-contributions">Contributions</button>
    </div>
  </div>

  <div class="docs-body">

    <!-- ====== USER'S MANUAL TAB ====== -->
    <div id="docs-users" class="docs-panel active">
      <h2>User's Manual</h2>
      <p>T4BF MPX Operating System &mdash; Version R2 &mdash; February 2026</p>

      <hr>

      <h2>1. Introduction</h2>
      <p>Welcome to the T4BF MPX Operating System. This manual provides comprehensive documentation for all available commands and system functionality.</p>
      <p>MPX (Multiprogramming Executive) is a simple operating system designed for educational purposes. It runs on x86 hardware and provides a command-line interface for system management, including date/time operations and process control.</p>

      <h2>2. Getting Started</h2>
      <p>After booting MPX, you will be presented with a command prompt (<code>&gt;</code>). From here, you can enter any of the commands documented below.</p>
      <h3>Basic Usage</h3>
      <p>Type a command and press Enter to execute it. Commands are case-sensitive and should be entered in lowercase. Line editing is supported: use arrow keys to move the cursor, Backspace to delete, and Home/End to jump to the start or end of the line. Use the up/down arrow keys to scroll through previously entered commands.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Basic Commands</span><button class="copy-btn">copy</button></div>
<pre>&gt; help
&gt; version
&gt; shutdown</pre>
      </div>

      <h2>3. Command Reference</h2>

      <!-- help -->
      <h3>help</h3>
      <p><strong>Syntax:</strong> <code>help</code> or <code>help [command]</code></p>
      <p><strong>Description:</strong> Displays help information for available commands. When called without arguments, lists all commands. When called with a command name, displays detailed help for that specific command.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>command</code></td><td>No</td><td>The name of the command to get help for</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre># List all available commands
&gt; help
# Get help for a specific command
&gt; help shutdown</pre>
      </div>

      <!-- version -->
      <h3>version</h3>
      <p><strong>Syntax:</strong> <code>version</code></p>
      <p><strong>Description:</strong> Displays the current version of MPX and compilation information.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; version
MPX Version: 1.0
Compiled: January 2026</pre>
      </div>

      <!-- shutdown -->
      <h3>shutdown</h3>
      <p><strong>Syntax:</strong> <code>shutdown</code></p>
      <p><strong>Description:</strong> Safely shuts down the MPX system. Prompts the user for confirmation before proceeding. Type "yes" to confirm or "no" to cancel.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; shutdown
Are you sure you want to shutdown? (yes/no): yes
Shutting down...</pre>
      </div>

      <!-- getdate -->
      <h3>getdate</h3>
      <p><strong>Syntax:</strong> <code>getdate</code></p>
      <p><strong>Description:</strong> Reads the current date from the Real-Time Clock (RTC) hardware and displays it in MM/DD/YYYY format.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; getdate
Current date: 02/15/2026</pre>
      </div>

      <!-- setdate -->
      <h3>setdate</h3>
      <p><strong>Syntax:</strong> <code>setdate MM/DD/YYYY</code></p>
      <p><strong>Description:</strong> Sets the system date in the RTC hardware. Validates month (1&ndash;12), day (1&ndash;31 depending on month), and year (1900&ndash;2099). Handles leap year validation for February 29.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>MM/DD/YYYY</code></td><td>Yes</td><td>Date to set. Month (1&ndash;12), Day (1&ndash;31), Year (1900&ndash;2099)</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; setdate 02/15/2026
Date set successfully.</pre>
      </div>

      <!-- gettime -->
      <h3>gettime</h3>
      <p><strong>Syntax:</strong> <code>gettime</code></p>
      <p><strong>Description:</strong> Reads the current time from the RTC hardware and displays it in HH:MM:SS format (24-hour clock).</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; gettime
Current time: 14:30:45</pre>
      </div>

      <!-- settime -->
      <h3>settime</h3>
      <p><strong>Syntax:</strong> <code>settime HH:MM:SS</code></p>
      <p><strong>Description:</strong> Sets the system time in the RTC hardware. Time must be in HH:MM:SS format (24-hour clock). Validates hours (0&ndash;23), minutes (0&ndash;59), and seconds (0&ndash;59).</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>HH:MM:SS</code></td><td>Yes</td><td>Time to set. Hours (0&ndash;23), Minutes (0&ndash;59), Seconds (0&ndash;59)</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; settime 14:30:00
Time set successfully.</pre>
      </div>

      <!-- createpcb -->
      <h3>createpcb</h3>
      <p><strong>Syntax:</strong> <code>createpcb &lt;name&gt; &lt;class&gt; &lt;priority&gt;</code></p>
      <p><strong>Description:</strong> Creates a new process (Process Control Block). The process is placed in the Ready queue after creation. Process names must be unique and no longer than 15 characters.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Process name (max 15 characters, must be unique)</td></tr>
        <tr><td><code>class</code></td><td>Yes</td><td>Process class: 0 (system) or 1 (user)</td></tr>
        <tr><td><code>priority</code></td><td>Yes</td><td>Process priority: 0 (highest) to 9 (lowest)</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre>&gt; createpcb myproc 1 5
Process 'myproc' created.

&gt; createpcb myproc 1 3
Error: Process 'myproc' already exists.</pre>
      </div>

      <!-- deletepcb -->
      <h3>deletepcb</h3>
      <p><strong>Syntax:</strong> <code>deletepcb &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Deletes an existing process. The process is removed from its current queue and its memory is freed. System processes (class 0) cannot be deleted.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to delete</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre>&gt; deletepcb myproc
Process 'myproc' deleted.

&gt; deletepcb sysprocess
Error: Cannot delete system process 'sysprocess'.</pre>
      </div>

      <!-- showpcb -->
      <h3>showpcb</h3>
      <p><strong>Syntax:</strong> <code>showpcb &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Displays detailed information about a single process, including its name, class, execution state, suspended status, and priority.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to display</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; showpcb myproc
Process: myproc
  Class: User
  State: Ready
  Suspended: No
  Priority: 5</pre>
      </div>

      <!-- showready -->
      <h3>showready</h3>
      <p><strong>Syntax:</strong> <code>showready</code></p>
      <p><strong>Description:</strong> Displays all processes in the Ready queue and the Suspended Ready queue.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; showready
--- Ready Queue ---
  myproc  Class: User  State: Ready  Suspended: No  Priority: 5
--- Suspended Ready Queue ---
  (empty)</pre>
      </div>

      <!-- showblocked -->
      <h3>showblocked</h3>
      <p><strong>Syntax:</strong> <code>showblocked</code></p>
      <p><strong>Description:</strong> Displays all processes in the Blocked queue and the Suspended Blocked queue.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; showblocked
--- Blocked Queue ---
  (empty)
--- Suspended Blocked Queue ---
  (empty)</pre>
      </div>

      <!-- showall -->
      <h3>showall</h3>
      <p><strong>Syntax:</strong> <code>showall</code></p>
      <p><strong>Description:</strong> Displays all processes across all four queues: Ready, Suspended Ready, Blocked, and Suspended Blocked.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; showall
--- Ready Queue ---
  proc1  Class: User  State: Ready  Suspended: No  Priority: 3
  proc2  Class: User  State: Ready  Suspended: No  Priority: 5
--- Suspended Ready Queue ---
  (empty)
--- Blocked Queue ---
  proc3  Class: User  State: Blocked  Suspended: No  Priority: 2
--- Suspended Blocked Queue ---
  (empty)</pre>
      </div>

      <!-- block -->
      <h3>block</h3>
      <p><strong>Syntax:</strong> <code>block &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Transitions a process from the Ready state to the Blocked state. If the process is already blocked, a message is displayed.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to block</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre>&gt; block myproc
Process 'myproc' blocked.

&gt; block myproc
Process 'myproc' is already blocked.</pre>
      </div>

      <!-- unblock -->
      <h3>unblock</h3>
      <p><strong>Syntax:</strong> <code>unblock &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Transitions a process from the Blocked state to the Ready state. If the process is already ready, a message is displayed.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to unblock</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre>&gt; unblock myproc
Process 'myproc' unblocked.

&gt; unblock myproc
Process 'myproc' is already ready.</pre>
      </div>

      <!-- suspend -->
      <h3>suspend</h3>
      <p><strong>Syntax:</strong> <code>suspend &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Suspends a process. System processes cannot be suspended. If the process is already suspended, no change is made.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to suspend</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Examples</span><button class="copy-btn">copy</button></div>
<pre>&gt; suspend myproc
Process 'myproc' suspended.

&gt; suspend sysprocess
Error: Could not suspend 'sysprocess'. Check that the process exists and is a user application.</pre>
      </div>

      <!-- resume -->
      <h3>resume</h3>
      <p><strong>Syntax:</strong> <code>resume &lt;name&gt;</code></p>
      <p><strong>Description:</strong> Resumes a suspended process. If the process is not suspended, no change is made.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process to resume</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; resume myproc
Process 'myproc' resumed.</pre>
      </div>

      <!-- setpriority -->
      <h3>setpriority</h3>
      <p><strong>Syntax:</strong> <code>setpriority &lt;name&gt; &lt;priority&gt;</code></p>
      <p><strong>Description:</strong> Changes the priority of an existing process. The priority must be between 0 (highest) and 9 (lowest). If the process is in the Ready queue, it is re-inserted to maintain priority ordering.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td>Yes</td><td>Name of the process</td></tr>
        <tr><td><code>priority</code></td><td>Yes</td><td>New priority value (0&ndash;9)</td></tr>
      </table>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; setpriority myproc 2
Process 'myproc' priority set.</pre>
      </div>

      <!-- clear -->
      <h3>clear</h3>
      <p><strong>Syntax:</strong> <code>clear</code></p>
      <p><strong>Description:</strong> Clears the terminal screen and moves the cursor to the top-left position. Uses ANSI escape sequences to reset the display.</p>
      <div class="code-block">
        <div class="code-block-header"><span>Example</span><button class="copy-btn">copy</button></div>
<pre>&gt; clear</pre>
      </div>

      <hr>

      <h2>4. Quick Reference</h2>
      <table class="ansi-table">
        <tr><th>Command</th><th>Description</th><th>Syntax</th></tr>
        <tr><td><code>help</code></td><td>Display help information</td><td><code>help [command]</code></td></tr>
        <tr><td><code>version</code></td><td>Display version information</td><td><code>version</code></td></tr>
        <tr><td><code>shutdown</code></td><td>Shutdown the system</td><td><code>shutdown</code></td></tr>
        <tr><td><code>getdate</code></td><td>Display current date</td><td><code>getdate</code></td></tr>
        <tr><td><code>setdate</code></td><td>Set the system date</td><td><code>setdate MM/DD/YYYY</code></td></tr>
        <tr><td><code>gettime</code></td><td>Display current time</td><td><code>gettime</code></td></tr>
        <tr><td><code>settime</code></td><td>Set the system time</td><td><code>settime HH:MM:SS</code></td></tr>
        <tr><td><code>createpcb</code></td><td>Create a new process</td><td><code>createpcb &lt;name&gt; &lt;class&gt; &lt;priority&gt;</code></td></tr>
        <tr><td><code>deletepcb</code></td><td>Delete a process</td><td><code>deletepcb &lt;name&gt;</code></td></tr>
        <tr><td><code>showpcb</code></td><td>Show a single process</td><td><code>showpcb &lt;name&gt;</code></td></tr>
        <tr><td><code>showready</code></td><td>Show all ready processes</td><td><code>showready</code></td></tr>
        <tr><td><code>showblocked</code></td><td>Show all blocked processes</td><td><code>showblocked</code></td></tr>
        <tr><td><code>showall</code></td><td>Show all processes</td><td><code>showall</code></td></tr>
        <tr><td><code>block</code></td><td>Block a process</td><td><code>block &lt;name&gt;</code></td></tr>
        <tr><td><code>unblock</code></td><td>Unblock a process</td><td><code>unblock &lt;name&gt;</code></td></tr>
        <tr><td><code>suspend</code></td><td>Suspend a process</td><td><code>suspend &lt;name&gt;</code></td></tr>
        <tr><td><code>resume</code></td><td>Resume a suspended process</td><td><code>resume &lt;name&gt;</code></td></tr>
        <tr><td><code>setpriority</code></td><td>Set process priority</td><td><code>setpriority &lt;name&gt; &lt;priority&gt;</code></td></tr>
        <tr><td><code>clear</code></td><td>Clear the terminal screen</td><td><code>clear</code></td></tr>
      </table>
    </div>

    <!-- ====== PROGRAMMER'S MANUAL TAB ====== -->
    <div id="docs-programmers" class="docs-panel">
      <h2>Programmer's Manual</h2>
      <p>T4BF MPX Operating System &mdash; Version R2 &mdash; February 2026</p>

      <hr>

      <h2>1. Overview</h2>
      <p>This manual documents all functions, data types, and structures written or modified by the T4BF team for the MPX operating system. It covers the kernel-level PCB management subsystem, the RTC hardware driver, serial I/O, helper utilities, and the user-facing command implementations.</p>
      <p><strong>Note:</strong> Provided library functions (<code>sys_req</code>, <code>sys_alloc_mem</code>, <code>sys_free_mem</code>, <code>strlen</code>, <code>strcmp</code>, <code>memcpy</code>, <code>memset</code>, <code>memmove</code>, <code>strtok</code>, <code>atoi</code>, <code>isspace</code>, <code>serial_init</code>, <code>serial_out</code>) are not documented here.</p>

      <h3>Module Organization</h3>
      <table class="ansi-table">
        <tr><th>Module</th><th>File(s)</th><th>Description</th></tr>
        <tr><td>PCB Management</td><td><code>kernel/pcb.c</code>, <code>include/pcb.h</code></td><td>Process Control Block allocation, queue management, state transitions</td></tr>
        <tr><td>RTC Driver</td><td><code>kernel/rtc.c</code>, <code>include/mpx/rtc.h</code></td><td>Real-Time Clock hardware read/write</td></tr>
        <tr><td>Serial I/O</td><td><code>kernel/serial.c</code></td><td>Polling-based serial input with line editing</td></tr>
        <tr><td>Helpers</td><td><code>user/cmd_helpers.c</code>, <code>include/cmd_helpers.h</code></td><td>Output, conversion, and low-level RTC utilities</td></tr>
        <tr><td>Shell</td><td><code>user/comhand.c</code></td><td>Command handler REPL loop</td></tr>
        <tr><td>R1 Commands</td><td><code>user/cmd_*.c</code></td><td>help, version, shutdown, getdate, setdate, gettime, settime, clear</td></tr>
        <tr><td>R2 Commands</td><td><code>user/cmd_createpcb.c</code>, <code>cmd_deletepcb.c</code>, etc.</td><td>Process management commands</td></tr>
      </table>

      <hr>

      <h2>2. Data Types and Structures</h2>

      <!-- pcb_t -->
      <h3>2.1 pcb_t</h3>
      <p><strong>Header:</strong> <code>include/pcb.h</code></p>
      <p><strong>Purpose:</strong> The Process Control Block. Stores all information about a single process.</p>
      <div class="code-block">
        <div class="code-block-header"><span>include/pcb.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef struct</span> <span class="type">pcb</span> {
    <span class="type">char</span> name[<span class="num">16</span>];              <span class="cmt">// Process name (up to 15 chars + null)</span>
    <span class="type">process_class_t</span> class;      <span class="cmt">// CLASS_SYSTEM or CLASS_USER</span>
    <span class="type">uint8_t</span> priority;           <span class="cmt">// 0 (highest) to 9 (lowest)</span>
    <span class="type">execution_state_t</span> exec_state; <span class="cmt">// STATE_READY, STATE_RUNNING, or STATE_BLOCKED</span>
    <span class="type">uint8_t</span> suspended;          <span class="cmt">// 0 = not suspended, 1 = suspended</span>
    <span class="type">uint8_t</span> *stack;             <span class="cmt">// Pointer to stack memory</span>
    <span class="kw">void</span> *stack_pointer;        <span class="cmt">// Current stack pointer position</span>
    <span class="type">size_t</span> stack_size;          <span class="cmt">// Size of allocated stack (1024 bytes)</span>
    <span class="kw">struct</span> <span class="type">pcb</span> *prev;           <span class="cmt">// Previous PCB in queue (doubly-linked)</span>
    <span class="kw">struct</span> <span class="type">pcb</span> *next;           <span class="cmt">// Next PCB in queue (doubly-linked)</span>
    <span class="kw">struct</span> <span class="type">pcb_queue</span> *queue;    <span class="cmt">// Pointer to the queue this PCB belongs to</span>
} <span class="type">pcb_t</span>;</pre>
      </div>
      <p>The PCB and its stack are allocated as a single contiguous memory block. The <code>queue</code> pointer allows O(1) identification of which queue a PCB is currently in.</p>

      <!-- pcb_queue_t -->
      <h3>2.2 pcb_queue_t</h3>
      <p><strong>Header:</strong> <code>include/pcb.h</code></p>
      <p><strong>Purpose:</strong> A doubly-linked list queue for organizing PCBs. Four global queues are maintained.</p>
      <div class="code-block">
        <div class="code-block-header"><span>include/pcb.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef struct</span> <span class="type">pcb_queue</span> {
    <span class="type">pcb_t</span> *head;    <span class="cmt">// First PCB in queue</span>
    <span class="type">pcb_t</span> *tail;    <span class="cmt">// Last PCB in queue</span>
    <span class="type">size_t</span> count;   <span class="cmt">// Number of PCBs in queue</span>
} <span class="type">pcb_queue_t</span>;</pre>
      </div>
      <p>The Ready queue is priority-sorted (0 = highest priority first, FIFO within same priority). All other queues use FIFO ordering.</p>

      <!-- execution_state_t -->
      <h3>2.3 execution_state_t</h3>
      <p><strong>Header:</strong> <code>include/pcb.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/pcb.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef enum</span> {
    STATE_READY,    <span class="cmt">// Process is ready to run</span>
    STATE_RUNNING,  <span class="cmt">// Process is currently executing</span>
    STATE_BLOCKED   <span class="cmt">// Process is blocked (waiting)</span>
} <span class="type">execution_state_t</span>;</pre>
      </div>

      <!-- process_class_t -->
      <h3>2.4 process_class_t</h3>
      <p><strong>Header:</strong> <code>include/pcb.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/pcb.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef enum</span> {
    CLASS_SYSTEM,   <span class="cmt">// System process (cannot be suspended or deleted)</span>
    CLASS_USER      <span class="cmt">// User application process</span>
} <span class="type">process_class_t</span>;</pre>
      </div>

      <!-- op_code -->
      <h3>2.5 op_code</h3>
      <p><strong>Header:</strong> <code>include/sys_req.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/sys_req.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef enum</span> {
    EXIT,   <span class="cmt">// Terminate the calling process (R3+)</span>
    IDLE,   <span class="cmt">// Suspend the calling process (R3+)</span>
    READ,   <span class="cmt">// Read from a device</span>
    WRITE   <span class="cmt">// Write to a device</span>
} <span class="type">op_code</span>;</pre>
      </div>

      <!-- rtc_time -->
      <h3>2.6 struct rtc_time</h3>
      <p><strong>Header:</strong> <code>include/mpx/rtc.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/mpx/rtc.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">struct</span> <span class="type">rtc_time</span> {
    <span class="type">int</span> hours;    <span class="cmt">// 0-23</span>
    <span class="type">int</span> minutes;  <span class="cmt">// 0-59</span>
    <span class="type">int</span> seconds;  <span class="cmt">// 0-59</span>
};</pre>
      </div>

      <!-- rtc_date -->
      <h3>2.7 struct rtc_date</h3>
      <p><strong>Header:</strong> <code>include/mpx/rtc.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/mpx/rtc.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">struct</span> <span class="type">rtc_date</span> {
    <span class="type">int</span> month;  <span class="cmt">// 1-12</span>
    <span class="type">int</span> day;    <span class="cmt">// 1-31</span>
    <span class="type">int</span> year;   <span class="cmt">// Full year (e.g., 2026)</span>
};</pre>
      </div>

      <!-- command_history -->
      <h3>2.8 command_history</h3>
      <p><strong>Header:</strong> <code>include/mpx/serial.h</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>include/mpx/serial.h</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">typedef struct</span> <span class="type">cmd_node</span> {
    <span class="type">char</span> command[MAX_CMD_LENGTH];
    <span class="kw">struct</span> <span class="type">cmd_node</span> *next;
    <span class="kw">struct</span> <span class="type">cmd_node</span> *prev;
} <span class="type">cmd_node_t</span>;

<span class="kw">typedef struct</span> <span class="type">cmd_history</span> {
    <span class="type">cmd_node_t</span> nodes[HISTORY_SIZE];
    <span class="type">cmd_node_t</span> *head;
    <span class="type">cmd_node_t</span> *tail;
    <span class="type">size_t</span> count;
} <span class="type">cmd_history_t</span>;</pre>
      </div>
      <p>Implements a circular buffer of up to 16 (HISTORY_SIZE) previous commands stored as a doubly-linked list of <code>cmd_node_t</code> entries. The user navigates history with the up arrow (scroll backward toward oldest) and down arrow (scroll forward toward newest). When a new command is entered it is appended to the tail; once the buffer is full the oldest entry is overwritten. Navigation replaces the current input line in-place.</p>

      <hr>

      <!-- PCB Management Functions -->
      <h2>3. PCB Management Functions</h2>
      <p><strong>Source:</strong> <code>kernel/pcb.c</code> &nbsp; <strong>Header:</strong> <code>include/pcb.h</code></p>

      <h3>3.1 pcb_allocate</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">pcb_t</span> *<span class="fn">pcb_allocate</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Allocates memory for a new PCB and its associated stack as a single contiguous block. The PCB structure occupies the beginning of the block, and the 1024-byte stack immediately follows. Initializes all PCB fields to defaults, zeros out the stack, and sets the stack pointer to the top with a NULL return address.</p>
      <p><strong>Returns:</strong> Pointer to the new <code>pcb_t</code>, or <code>NULL</code> if memory allocation fails.</p>

      <h3>3.2 pcb_free</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">pcb_free</span>(<span class="type">pcb_t</span> *pcb);</pre>
      </div>
      <p><strong>Description:</strong> Frees all memory associated with a PCB. If the PCB is currently in a queue, it is first removed via <code>pcb_remove()</code> before freeing.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>pcb</code></td><td><code>pcb_t *</code></td><td>Pointer to the PCB to free</td></tr>
      </table>
      <p><strong>Returns:</strong> 0 on success, -1 if <code>pcb</code> is <code>NULL</code>.</p>

      <h3>3.3 pcb_setup</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">pcb_t</span> *<span class="fn">pcb_setup</span>(<span class="kw">const</span> <span class="type">char</span> *name, <span class="type">int</span> class, <span class="type">int</span> priority);</pre>
      </div>
      <p><strong>Description:</strong> Creates and initializes a PCB with the specified name, class, and priority. Validates all parameters before allocation. The PCB is set to Ready state, not suspended. The caller is responsible for inserting into a queue via <code>pcb_insert()</code>.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>name</code></td><td><code>const char *</code></td><td>Process name (truncated to 15 characters)</td></tr>
        <tr><td><code>class</code></td><td><code>int</code></td><td>0 = CLASS_SYSTEM, 1 = CLASS_USER</td></tr>
        <tr><td><code>priority</code></td><td><code>int</code></td><td>0 (highest) to 9 (lowest)</td></tr>
      </table>
      <p><strong>Returns:</strong> Pointer to initialized <code>pcb_t</code>, or <code>NULL</code> on error.</p>

      <h3>3.4 pcb_find</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">pcb_t</span> *<span class="fn">pcb_find</span>(<span class="kw">const</span> <span class="type">char</span> *name);</pre>
      </div>
      <p><strong>Description:</strong> Searches all four process queues for a PCB with the given name. Uses <code>strcmp()</code> for exact matching.</p>
      <p><strong>Returns:</strong> Pointer to the matching <code>pcb_t</code>, or <code>NULL</code> if not found.</p>

      <h3>3.5 pcb_insert</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">pcb_insert</span>(<span class="type">pcb_t</span> *pcb);</pre>
      </div>
      <p><strong>Description:</strong> Inserts a PCB into the appropriate queue based on its <code>exec_state</code> and <code>suspended</code> fields. The Ready queue is priority-sorted; all others use FIFO.</p>

      <h3>3.6 pcb_remove</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">pcb_remove</span>(<span class="type">pcb_t</span> *pcb);</pre>
      </div>
      <p><strong>Description:</strong> Removes a PCB from its current queue. Updates doubly-linked list pointers. After removal, <code>prev</code>, <code>next</code>, and <code>queue</code> are set to <code>NULL</code>.</p>
      <p><strong>Returns:</strong> 0 on success, -1 if <code>pcb</code> is <code>NULL</code> or not in any queue.</p>

      <h3>3.7 pcb_suspend</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">pcb_suspend</span>(<span class="kw">const</span> <span class="type">char</span> *name);</pre>
      </div>
      <p><strong>Description:</strong> Suspends a process by name. Verifies it is a user process, removes from current queue, sets suspended flag, and re-inserts into the appropriate suspended queue.</p>
      <p><strong>Returns:</strong> 0 on success, -1 if not found or is a system process.</p>

      <h3>3.8 pcb_resume</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">pcb_resume</span>(<span class="kw">const</span> <span class="type">char</span> *name);</pre>
      </div>
      <p><strong>Description:</strong> Resumes a suspended process by name. Removes from suspended queue, clears flag, and re-inserts into the non-suspended queue.</p>
      <p><strong>Returns:</strong> 0 on success, -1 if not found.</p>

      <hr>

      <!-- RTC Hardware Functions -->
      <h2>4. RTC Hardware Functions</h2>
      <p><strong>Source:</strong> <code>kernel/rtc.c</code> &nbsp; <strong>Header:</strong> <code>include/mpx/rtc.h</code></p>

      <h3>4.1 rtc_get_time</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">rtc_get_time</span>(<span class="kw">struct</span> <span class="type">rtc_time</span> *time);</pre>
      </div>
      <p><strong>Description:</strong> Reads the current time from the CMOS RTC hardware. Converts BCD to binary. Fills <code>hours</code> (0&ndash;23), <code>minutes</code> (0&ndash;59), <code>seconds</code> (0&ndash;59).</p>

      <h3>4.2 rtc_set_time</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">rtc_set_time</span>(<span class="kw">const</span> <span class="kw">struct</span> <span class="type">rtc_time</span> *time);</pre>
      </div>
      <p><strong>Description:</strong> Writes time values to the CMOS RTC hardware. Converts binary to BCD format.</p>

      <h3>4.3 rtc_get_date</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">rtc_get_date</span>(<span class="kw">struct</span> <span class="type">rtc_date</span> *date);</pre>
      </div>
      <p><strong>Description:</strong> Reads the current date from the CMOS RTC hardware. Reads day, month, year, century registers. Computes full 4-digit year.</p>

      <h3>4.4 rtc_set_date</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">rtc_set_date</span>(<span class="kw">const</span> <span class="kw">struct</span> <span class="type">rtc_date</span> *date);</pre>
      </div>
      <p><strong>Description:</strong> Writes date values to the CMOS RTC hardware. Writes century/year registers first to avoid edge cases.</p>

      <hr>

      <!-- Helper Functions -->
      <h2>5. Helper Functions</h2>
      <p><strong>Source:</strong> <code>user/cmd_helpers.c</code> &nbsp; <strong>Header:</strong> <code>include/cmd_helpers.h</code></p>

      <h3>5.1 print</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">print</span>(<span class="kw">const</span> <span class="type">char</span> *str);</pre>
      </div>
      <p><strong>Description:</strong> Outputs a null-terminated string to the serial console (COM1). Convenience wrapper around <code>sys_req(WRITE, COM1, str, strlen(str))</code>.</p>

      <h3>5.2 int_to_str</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">int_to_str</span>(<span class="type">int</span> num, <span class="type">char</span> *buf);</pre>
      </div>
      <p><strong>Description:</strong> Converts an integer to its decimal string representation. Handles zero and negative numbers.</p>

      <h3>5.3 bcd_to_bin</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">bcd_to_bin</span>(<span class="type">unsigned char</span> bcd);</pre>
      </div>
      <p><strong>Description:</strong> Converts a BCD byte to binary integer. Implementation: <code>((bcd &gt;&gt; 4) * 10) + (bcd &amp; 0x0F)</code></p>

      <h3>5.4 bin_to_bcd</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">unsigned char</span> <span class="fn">bin_to_bcd</span>(<span class="type">int</span> bin);</pre>
      </div>
      <p><strong>Description:</strong> Converts a binary integer (0&ndash;99) to BCD format. Implementation: <code>(unsigned char)(((bin / 10) &lt;&lt; 4) | (bin % 10))</code></p>

      <h3>5.5 rtc_read</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">unsigned char</span> <span class="fn">rtc_read</span>(<span class="type">unsigned char</span> reg);</pre>
      </div>
      <p><strong>Description:</strong> Reads a single byte from the specified CMOS RTC register. Disables interrupts during I/O. Port 0x70 (address), port 0x71 (data).</p>

      <h3>5.6 rtc_write</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">rtc_write</span>(<span class="type">unsigned char</span> reg, <span class="type">unsigned char</span> val);</pre>
      </div>
      <p><strong>Description:</strong> Writes a single byte to the specified CMOS RTC register. Disables interrupts during I/O.</p>

      <hr>

      <!-- Serial I/O Functions -->
      <h2>6. Serial I/O Functions</h2>
      <p><strong>Source:</strong> <code>kernel/serial.c</code> &nbsp; <strong>Header:</strong> <code>include/mpx/serial.h</code></p>

      <h3>6.1 serial_poll</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">serial_poll</span>(<span class="type">device</span> dev, <span class="type">char</span> *buffer, <span class="type">size_t</span> len);</pre>
      </div>
      <p><strong>Description:</strong> Polls the serial port for user input with full line-editing support. Supports Backspace, Left/Right arrow, Home, End, Delete, insert mode, and Up/Down arrow command history navigation. Reads until Enter or buffer full. History navigation is only active when line-editing mode is enabled via <code>serial_set_line_editing(1)</code>.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>dev</code></td><td><code>device</code></td><td>Serial port device (e.g. COM1)</td></tr>
        <tr><td><code>buffer</code></td><td><code>char *</code></td><td>Buffer to store the input string</td></tr>
        <tr><td><code>len</code></td><td><code>size_t</code></td><td>Maximum buffer size</td></tr>
      </table>
      <p><strong>Returns:</strong> Number of bytes read on success, -1 if buffer is <code>NULL</code> or length is 0.</p>

      <h3>6.2 serial_set_line_editing</h3>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">serial_set_line_editing</span>(<span class="type">int</span> enable);</pre>
      </div>
      <p><strong>Description:</strong> Enables or disables line-editing mode (including command history navigation) within <code>serial_poll</code>. When enabled (<code>1</code>), <code>serial_poll</code> processes extended escape sequences for cursor movement and history navigation. When disabled (<code>0</code>), raw input is collected without history support. Called by <code>comhand()</code> with <code>1</code> before reading shell input and with <code>0</code> after, so that prompts inside commands (e.g. the shutdown confirmation) do not record history entries.</p>
      <table class="ansi-table">
        <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>enable</code></td><td><code>int</code></td><td>1 to enable line-editing and history; 0 to disable</td></tr>
      </table>

      <hr>

      <!-- Shell and Command Functions -->
      <h2>7. Shell and Command Functions</h2>

      <h3>7.1 comhand</h3>
      <p><strong>Source:</strong> <code>user/comhand.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">comhand</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> The main command handler (shell) implementing a REPL. Displays welcome message, loops reading input from COM1, tokenizes and dispatches to command handlers. Exits when <code>cmd_shutdown()</code> returns true. Before each read of the main prompt, calls <code>serial_set_line_editing(1)</code> to enable history navigation; calls <code>serial_set_line_editing(0)</code> after, so secondary prompts (e.g. shutdown confirmation) do not interact with the history buffer. Supported commands: help, version, shutdown, getdate, setdate, gettime, settime, createpcb, deletepcb, showpcb, showready, showblocked, showall, block, unblock, suspend, resume, setpriority, clear.</p>

      <h3>7.2 cmd_help</h3>
      <p><strong>Source:</strong> <code>user/cmd_help.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_help</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Displays help information. Without argument, lists all commands. With a command name, displays detailed usage.</p>

      <h3>7.3 cmd_version</h3>
      <p><strong>Source:</strong> <code>user/cmd_version.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_version</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Prints the MPX version number and compilation date.</p>

      <h3>7.4 cmd_shutdown</h3>
      <p><strong>Source:</strong> <code>user/cmd_shutdown.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="type">int</span> <span class="fn">cmd_shutdown</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Prompts for shutdown confirmation. Returns 1 if confirmed, 0 otherwise.</p>

      <h3>7.5 cmd_getdate</h3>
      <p><strong>Source:</strong> <code>user/cmd_getdate.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_getdate</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Reads and displays the RTC date in MM/DD/YYYY format with zero-padding.</p>

      <h3>7.6 cmd_setdate</h3>
      <p><strong>Source:</strong> <code>user/cmd_setdate.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_setdate</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Parses and validates a MM/DD/YYYY date string, then writes to RTC. Handles leap year validation.</p>

      <h3>7.7 cmd_gettime</h3>
      <p><strong>Source:</strong> <code>user/cmd_gettime.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_gettime</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Reads and displays the RTC time in HH:MM:SS format (24-hour).</p>

      <h3>7.8 cmd_settime</h3>
      <p><strong>Source:</strong> <code>user/cmd_settime.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_settime</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Parses and validates a HH:MM:SS time string, then writes to RTC.</p>

      <h3>7.9 cmd_clear</h3>
      <p><strong>Source:</strong> <code>user/cmd_clear.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_clear</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Clears the terminal screen by printing the ANSI escape sequence <code>\033[2J</code> (erase entire display) followed by <code>\033[H</code> (move cursor to home position, row 1 column 1). Both sequences are issued via <code>print()</code> and take effect immediately on any ANSI-compatible terminal emulator.</p>

      <hr>

      <!-- PCB Command Functions (R2) -->
      <h2>8. PCB Command Functions (R2)</h2>

      <h3>8.1 cmd_createpcb</h3>
      <p><strong>Source:</strong> <code>user/cmd_createpcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_createpcb</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Creates a new process. Tokenizes arg for name, class, and priority. Validates uniqueness, name length, class (0/1), priority (0&ndash;9). Calls <code>pcb_setup()</code> then <code>pcb_insert()</code>.</p>

      <h3>8.2 cmd_deletepcb</h3>
      <p><strong>Source:</strong> <code>user/cmd_deletepcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_deletepcb</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Deletes a process by name. Verifies it is not a system process, then calls <code>pcb_free()</code>.</p>

      <h3>8.3 cmd_showpcb</h3>
      <p><strong>Source:</strong> <code>user/cmd_showpcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_showpcb</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Displays detailed info about a single process: name, class, state, suspended, priority.</p>

      <h3>8.4 cmd_showready</h3>
      <p><strong>Source:</strong> <code>user/cmd_showpcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_showready</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Displays all processes in the Ready and Suspended Ready queues.</p>

      <h3>8.5 cmd_showblocked</h3>
      <p><strong>Source:</strong> <code>user/cmd_showpcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_showblocked</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Displays all processes in the Blocked and Suspended Blocked queues.</p>

      <h3>8.6 cmd_showall</h3>
      <p><strong>Source:</strong> <code>user/cmd_showpcb.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_showall</span>(<span class="kw">void</span>);</pre>
      </div>
      <p><strong>Description:</strong> Displays all processes across all four queues.</p>

      <h3>8.7 pcb_block</h3>
      <p><strong>Source:</strong> <code>user/pcb_block.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">pcb_block</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Transitions a process from Ready to Blocked. Preserves the suspended flag.</p>

      <h3>8.8 pcb_unblock</h3>
      <p><strong>Source:</strong> <code>user/pcb_unblock.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">pcb_unblock</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Transitions a process from Blocked to Ready. Preserves the suspended flag.</p>

      <h3>8.9 pcb_set_priority</h3>
      <p><strong>Source:</strong> <code>user/pcb_set_priority.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">pcb_set_priority</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> Changes process priority. Removes from queue, updates priority, re-inserts (necessary for priority-sorted Ready queue).</p>

      <h3>8.10 cmd_pcb_suspend</h3>
      <p><strong>Source:</strong> <code>user/cmd_pcb_suspend.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_pcb_suspend</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> User-facing wrapper for <code>pcb_suspend()</code>. Validates argument and prints result message.</p>

      <h3>8.11 cmd_pcb_resume</h3>
      <p><strong>Source:</strong> <code>user/cmd_pcb_resume.c</code></p>
      <div class="code-block">
        <div class="code-block-header"><span>Signature</span><button class="copy-btn">copy</button></div>
<pre><span class="kw">void</span> <span class="fn">cmd_pcb_resume</span>(<span class="type">char</span> *arg);</pre>
      </div>
      <p><strong>Description:</strong> User-facing wrapper for <code>pcb_resume()</code>. Validates argument and prints result message.</p>
    </div>

    <!-- ====== CONTRIBUTIONS TAB ====== -->
    <div id="docs-contributions" class="docs-panel">
      <h2>Team Contributions</h2>
      <p><strong>Team:</strong> The Four Best Friends (T4BF) &mdash; CS 450 &mdash; West Virginia University</p>
      <p><strong>Version:</strong> R2 &mdash; February 2026</p>

      <hr>

      <h3>Ethan Boyd</h3>
      <table class="ansi-table">
        <tr><th>Contribution</th><th>Module</th><th>Description</th></tr>
        <tr><td>Documentation</td><td><code>doc/</code></td><td>User's Manual, Programmer's Manual, contributions page</td></tr>
        <tr><td>help command</td><td><code>user/cmd_help.c</code></td><td>Display available commands and usage info</td></tr>
        <tr><td>version command</td><td><code>user/cmd_version.c</code></td><td>Show MPX version info</td></tr>
        <tr><td>shutdown command</td><td><code>user/cmd_shutdown.c</code></td><td>Graceful exit with confirmation prompt</td></tr>
        <tr><td>RTC write order fix</td><td><code>user/cmd_setdate.c</code></td><td>Century/year first for edge cases</td></tr>
        <tr><td>pcb_insert</td><td><code>kernel/pcb.c</code></td><td>Insert PCB into priority-ordered ready/blocked queue</td></tr>
        <tr><td>pcb_allocate bug fix</td><td><code>kernel/pcb.c</code></td><td>Fixed initialization order to prevent NULL stack dereference</td></tr>
        <tr><td>createpcb command</td><td><code>user/cmd_createpcb.c</code></td><td>Create new process with name, class, and priority validation</td></tr>
        <tr><td>deletepcb command</td><td><code>user/cmd_deletepcb.c</code></td><td>Delete process with system process protection</td></tr>
        <tr><td>show commands</td><td><code>user/cmd_showpcb.c</code></td><td>showpcb, showready, showblocked, showall display commands</td></tr>
        <tr><td>Help text for R2</td><td><code>user/cmd_help.c</code></td><td>Added help entries for all PCB commands</td></tr>
        <tr><td>Version string update</td><td><code>user/cmd_version.c</code></td><td>Updated version to R2</td></tr>
        <tr><td>Comhand R2 dispatch</td><td><code>user/comhand.c</code></td><td>Added command dispatch for R2 PCB commands</td></tr>
        <tr><td>Build system updates</td><td><code>make/kernel.mk</code>, <code>make/user.mk</code></td><td>Added new R2 source files to build</td></tr>
        <tr><td>R2 documentation</td><td><code>doc/</code></td><td>Split manuals, title pages, table of contents</td></tr>
      </table>

      <h3>Matt Welch</h3>
      <table class="ansi-table">
        <tr><th>Contribution</th><th>Module</th><th>Description</th></tr>
        <tr><td>Command handler</td><td><code>user/comhand.c</code></td><td>Main REPL loop with command dispatch</td></tr>
        <tr><td>getdate command</td><td><code>user/cmd_getdate.c</code></td><td>Read and display RTC date</td></tr>
        <tr><td>setdate command</td><td><code>user/cmd_setdate.c</code></td><td>Set RTC date with validation</td></tr>
        <tr><td>gettime command</td><td><code>user/cmd_gettime.c</code></td><td>Read and display RTC time</td></tr>
        <tr><td>settime command</td><td><code>user/cmd_settime.c</code></td><td>Set RTC time with validation</td></tr>
        <tr><td>Leap year validation</td><td><code>user/cmd_setdate.c</code></td><td>Correct Feb 29 handling</td></tr>
        <tr><td>pcb_remove</td><td><code>kernel/pcb.c</code></td><td>Remove PCB from its current queue</td></tr>
        <tr><td>clear command</td><td><code>user/cmd_clear.c</code></td><td>Clear terminal screen using ANSI escape sequences</td></tr>
        <tr><td>Startup banner</td><td><code>user/comhand.c</code></td><td>ASCII art T4BF welcome banner on shell startup</td></tr>
      </table>

      <h3>Shannon Seiler</h3>
      <table class="ansi-table">
        <tr><th>Contribution</th><th>Module</th><th>Description</th></tr>
        <tr><td>serial_poll()</td><td><code>kernel/serial.c</code></td><td>Polling input with full line editing support</td></tr>
        <tr><td>Arrow key navigation</td><td><code>kernel/serial.c</code></td><td>Left/right cursor movement in input</td></tr>
        <tr><td>Home/End/Delete keys</td><td><code>kernel/serial.c</code></td><td>Extended keyboard support</td></tr>
        <tr><td>Backspace handling</td><td><code>kernel/serial.c</code></td><td>Delete character with visual update</td></tr>
        <tr><td>Serial port init</td><td><code>kernel/serial.c</code></td><td>Configure COM1 UART at 9600 baud</td></tr>
        <tr><td>Kernel main setup</td><td><code>kernel/kmain.c</code></td><td>Initialize all subsystems in correct order</td></tr>
        <tr><td>RTC kernel interface</td><td><code>kernel/rtc.c</code></td><td>Hardware access functions for time/date</td></tr>
        <tr><td>pcb_setup, pcb_find</td><td><code>kernel/pcb.c</code></td><td>Initialize PCB queues and find PCB by name</td></tr>
        <tr><td>PCB header</td><td><code>include/pcb.h</code></td><td>PCB struct and queue definitions</td></tr>
        <tr><td>block command</td><td><code>user/pcb_block.c</code></td><td>Transition process from ready to blocked state</td></tr>
        <tr><td>unblock command</td><td><code>user/pcb_unblock.c</code></td><td>Transition process from blocked to ready state</td></tr>
        <tr><td>setpriority command</td><td><code>user/pcb_set_priority.c</code></td><td>Change process priority with queue re-insertion</td></tr>
        <tr><td>Serial enhancements</td><td><code>kernel/serial.c</code></td><td>Arrow key and extended input improvements for R2</td></tr>
        <tr><td>Kernel main R2</td><td><code>kernel/kmain.c</code></td><td>PCB subsystem initialization</td></tr>
        <tr><td>Build system updates</td><td><code>make/kernel.mk</code>, <code>make/user.mk</code></td><td>Added new R2 source files to build</td></tr>
        <tr><td>Command history</td><td><code>kernel/serial.c</code></td><td>Up/down arrow navigation through previous commands (linked list, 16-command capacity)</td></tr>
      </table>

      <h3>Benjamin Eft</h3>
      <table class="ansi-table">
        <tr><th>Contribution</th><th>Module</th><th>Description</th></tr>
        <tr><td>pcb_allocate, pcb_free</td><td><code>kernel/pcb.c</code></td><td>Allocate and free PCB memory with stack allocation</td></tr>
        <tr><td>pcb_suspend, pcb_resume</td><td><code>kernel/pcb.c</code></td><td>Suspend and resume PCB state transitions</td></tr>
        <tr><td>PCB header</td><td><code>include/pcb.h</code></td><td>PCB struct and queue definitions</td></tr>
        <tr><td>suspend command</td><td><code>user/cmd_pcb_suspend.c</code></td><td>Suspend a running process by name</td></tr>
        <tr><td>resume command</td><td><code>user/cmd_pcb_resume.c</code></td><td>Resume a suspended process by name</td></tr>
        <tr><td>Comhand R2 dispatch</td><td><code>user/comhand.c</code></td><td>Added command dispatch for R2 PCB commands</td></tr>
        <tr><td>Command history refinements</td><td><code>kernel/serial.c</code></td><td>Adjustments to history implementation; include fix for clear command</td></tr>
        <tr><td>Shutdown bug fix</td><td><code>user/cmd_shutdown.c</code></td><td>Fixed shutdown confirmation input handling</td></tr>
      </table>
    </div>

  </div>
</div>

<script src="js/main.js"></script>
</body>
</html>
